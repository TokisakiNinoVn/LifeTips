<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.geometry.Insets?>

<VBox xmlns:fx="http://javafx.com/fxml"
      stylesheets="@../css/profile.css"
      spacing="20"
      fx:controller="com.example.ui.controller.ProfileController"
      prefWidth="1200"
      prefHeight="800"
      styleClass="profile-page">

    <fx:include source="../fxml/components/header_component.fxml" fx:id="header"/>

    <!-- Profile Section -->
    <GridPane hgap="20" vgap="10" alignment="CENTER" styleClass="profile-section">
        <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
        <ImageView fitWidth="120" fitHeight="120" preserveRatio="true" styleClass="profile-image" GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.rowSpan="3">
            <Image url="@../assets/images/img.png"/>
        </ImageView>
        <Label fx:id="emailLabel" text="" styleClass="profile-email-label" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
        <TextField fx:id="fullName" promptText="Enter your full name" styleClass="profile-name-input" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
        <Button text="Update Profile" styleClass="update-profile-button" onAction="#updateProfile" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
    </GridPane>

    <!-- Tabs -->
    <TabPane styleClass="profile-tabs" fx:id="profileTabPane">
        <tabs>
            <Tab text="My Tips" closable="false" fx:id="myTipsTab"/>
            <Tab text="Saved" closable="false" fx:id="savedTab"/>
        </tabs>
    </TabPane>

    <!-- Reload Button -->
    <HBox alignment="CENTER" spacing="10">
        <Button text="Reload" styleClass="reload-button" fx:id="reloadButton" onAction="#reloadData"/>
    </HBox>

    <!-- Content Area (Posts) -->
    <ScrollPane fitToWidth="true" styleClass="content-scroll">
        <VBox fx:id="postsContainer" alignment="TOP_CENTER" spacing="20" styleClass="content-area">
            <!-- Filter Options (visible only in My Tips tab) -->
            <VBox fx:id="filterOptions" spacing="10" styleClass="filter-options" visible="false">
                <Label text="Filter by:" styleClass="filter-label"/>
                <HBox spacing="10">
                    <ToggleButton text="Public" selected="true" fx:id="publicToggle" styleClass="toggle-button"/>
                    <ToggleButton text="Private" fx:id="privateToggle" styleClass="toggle-button"/>
                </HBox>
                <HBox spacing="10">
                    <Button text="Apply" styleClass="apply-filter-button" onAction="#applyFilter"/>
                    <Button text="Reset" styleClass="reset-filter-button" onAction="#resetFilter"/>
                </HBox>
            </VBox>
        </VBox>
    </ScrollPane>
</VBox>